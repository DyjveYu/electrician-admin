import{_ as x}from"./_plugin-vue_export-helper-BwE83l92.js";/* empty css                     *//* empty css                 */import{u as h,r as y,a as V,c as E,o as k,b as s,d as o,w as t,E as F,e as B,f as I,g as R,h as S,i as q,j as z,k as l,l as C,m as L,n as N,p as T,q as K,t as M,s as p}from"./index-By0-w93g.js";const U={class:"login-container"},j={class:"login-box"},A={class:"login-header"},D={class:"logo"},G={__name:"Login",setup(H){const g=R(),r=h(),n=y(),a=V({username:"admin",password:"admin123"}),_={username:[{required:!0,message:"请输入用户名",trigger:"blur"},{min:2,max:20,message:"用户名长度在 2 到 20 个字符",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,max:20,message:"密码长度在 6 到 20 个字符",trigger:"blur"}]},i=async()=>{if(n.value)try{if(!await n.value.validate())return;const e=await r.login(a);e.success?(p.success("登录成功"),g.push("/")):p.error(e.message||"登录失败")}catch(u){console.error("登录错误:",u)}};return(u,e)=>{const f=S("Tools"),v=F,c=z,d=q,w=T,b=I;return k(),E("div",U,[s("div",j,[s("div",A,[s("div",D,[o(v,{class:"logo-icon"},{default:t(()=>[o(f)]),_:1}),e[2]||(e[2]=s("h1",{class:"title"},"电工维修平台",-1))]),e[3]||(e[3]=s("p",{class:"subtitle"},"管理后台",-1))]),o(b,{ref_key:"loginFormRef",ref:n,model:a,rules:_,class:"login-form",onSubmit:B(i,["prevent"])},{default:t(()=>[o(d,{prop:"username"},{default:t(()=>[o(c,{modelValue:a.username,"onUpdate:modelValue":e[0]||(e[0]=m=>a.username=m),placeholder:"请输入用户名",size:"large","prefix-icon":l(C),clearable:""},null,8,["modelValue","prefix-icon"])]),_:1}),o(d,{prop:"password"},{default:t(()=>[o(c,{modelValue:a.password,"onUpdate:modelValue":e[1]||(e[1]=m=>a.password=m),type:"password",placeholder:"请输入密码",size:"large","prefix-icon":l(N),"show-password":"",clearable:"",onKeyup:L(i,["enter"])},null,8,["modelValue","prefix-icon"])]),_:1}),o(d,null,{default:t(()=>[o(w,{type:"primary",size:"large",class:"login-btn",loading:l(r).loading,onClick:i},{default:t(()=>[K(M(l(r).loading?"登录中...":"登录"),1)]),_:1},8,["loading"])]),_:1})]),_:1},8,["model"]),e[4]||(e[4]=s("div",{class:"login-footer"},[s("p",{class:"tips"},"默认账号：admin，密码：admin123")],-1))])])}}},W=x(G,[["__scopeId","data-v-fb81a281"]]);export{W as default};
